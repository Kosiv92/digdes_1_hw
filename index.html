<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css" type="text/css">
    <link rel="shortcut icon" href="img/paint.ico" type="image/x-icon">
    <title>Мир красок</title>
</head>
<body>
    <table>
        <tr>
            <td>Курс доллара</td><td>Курс евро</td>
        </tr>
        <tr>
            <td class="usdQuote">--</td><td class="eurQuote">--</td>
        </tr>
    </table>  
    <header>Онлайн магазин "МИР КРАСОК"</header>   
    <img class="main_img" src="img/main_img.jpeg" alt="Краски">
    <main>
    <div class="description">
        <p><strong>МИР КРАСОК</strong> - онлайн магазин <a href="https://ru.wikipedia.org/wiki/%D0%9A%D1%80%D0%B0%D1%81%D0%BA%D0%B8" target="_blank">красок</a>, 
        <a href="https://ru.wikipedia.org/wiki/%D0%AD%D0%BC%D0%B0%D0%BB%D1%8C" target="_blank">эмалей</a> и других видов лакокрасочного покрытия широкого спектра для внутренних и внешних работ. Наша компания ведет свою историю с начала 2013 г. и за это время мы получили сильную экспертизу в области лакокрасочных и отделочных материалов. Благодаря нашему опыту и правильному подходу к закупкам товара, мы готовы предложить Вам, покупатель: лучшую цену, максимально оперативную доставку в том числе и в регионы. Каждый покупатель для нашего магазина – это всегда особый клиенты и уникальными задачами.  </p>
    </div>
    <div class="flex-parent">
        <div class="flex-child left-column">
           Мы напрямую работаем с большинством российских и зарубежных производителей, благодаря чему обеспечиваем:
           <br>
            <ul>            
            <li>Прозрачное и доступное ценообразование</li>
            <li>Наличие на складе заявленного ассортимента</li>
            <li>Быструю отгрузку и доставку товаров клиентам</li>
            <li>Отсутствие дополнительных наценок, сборов и комиссий</li>
            <li>Шпатлевки</li>
            <li>Штукатурки</li>
            <li>Растворители</li>
            <li>Очистители</li>            
            </ul>
        </div>
        <div class="flex-child right-column">
            <u>Наша компания поставляет:</u>
            <ul>            
            <li>Краски</li>
            <li>Эмали</li>
            <li>Лаки</li>
            <li>Грунты</li>
            <li>Шпатлевки</li>
            <li>Штукатурки</li>
            <li>Растворители</li>
            <li>Очистители</li>            
        </ul>
        </div>
    </div>    
    <div>
        <p> <strong>Через наш сайт вы можете отправить свои контактные данные и необходимые критерии лакокрасочного покрытия и наш менеджер свяжется с Вами!</strong></p>        
        <form>        
        <div id="managedComponent1"></div>
        </form>        
    </div>
    </main>    
    <footer>2023  ООО "Мир красок" ©</footer>
    <script crossorigin src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
	<script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.25.0/babel.min.js"></script>    
    <script type="text/babel">    
        
        const materialTypes = [{id: 't1', name: 'Краска'}, {id: 't2', name: 'Эмаль'}, {id: 't3', name: 'Лак'}];
        const materialConditions = [{id:'c1', name: 'Атмосферостойкость'}, {id:'c2', name: 'Влагостойкость'}, {id:'c3', name: 'Термостойкость'}, {id:'c4', name: 'Светостойкость'}]
        
        class ExampleComponent1 extends React.Component {
            constructor(props){
					super(props);
                    this.state = { 
                        name: '',
                        phone: '',
                        selectedType: '',                        
                        checkedConditions: new Map(),
                        conditions: props.conditions, 
                        types: props.types  
                    };
                    this.onChangeName = this.onChangeName.bind(this);
                    this.onChangePhone =  this.onChangePhone.bind(this);
                    this.onChangeType =  this.onChangeType.bind(this);
                    this.onChangeCondition =  this.onChangeCondition.bind(this);
                    this.handleSubmit = this.handleSubmit.bind(this);                                        
            }            
            
            //обработка события при изменении значения поля для ввода имени
            onChangeName(event){
                var value = event.target.value;
                this.setState({name: value})
            }

            //обработка события при изменении значения номера телефона
            onChangePhone(event){
                var value = event.target.value;
                this.setState({phone: value})
            }

            //обработка события при изменении типа лакокрасочного материала
            onChangeType(event){
                var value = event.target.value;
                this.setState({selectedType: value});
            }

            //обработка отметки(checkbox) свойства
            onChangeCondition(event){
                var isCheck = event.target.checked;
                var condition = event.target.value;

                this.setState(prevState => ({checkedConditions: prevState.checkedConditions.set(condition, isCheck)}));
            }

            //Вывод введенных данных при отправке формы
            handleSubmit(event) {
                event.preventDefault();
                let printConditions = new Map(
                    [...this.state.checkedConditions].filter(([k,v]) => v === true)).keys();                
                 /*this.state.checkedConditions.keys();*/
                alert("Введено имя: " + this.state.name + "\nВведен телефон: " + this.state.phone + "\nВведен тип ЛКМ: " + this.state.selectedType + "\nВыбраны свойства ЛКМ: " + [...printConditions]);
            }
            
            render(){
                return(
                <form onSubmit={this.handleSubmit}>
                    <fieldset>
                    <legend>Как можем к Вам обращаться:</legend>
                    <input type="text" placeholder="Введите Ваше имя" value={this.state.name} onChange={this.onChangeName}/>
                    </fieldset>
                    <fieldset>
                    <legend>Как можем с Вами связаться:</legend> 
                    <input type="tel" placeholder="Введите Ваш телефон" value={this.state.phone} onChange={this.onChangePhone} />
                    </fieldset>
                    <fieldset>
                    <legend>Что Вас интересует:</legend>
                    {this.state.types.map(type =>                        
                        <div key={type.id}>                            
                        <input type="radio" value={type.name} name="type"
                        onChange={this.onChangeType}/>
                        <label>{type.name}</label>
                        </div>                                                
                    )}
                    </fieldset>
                    <fieldset>
                    <legend>Какие свойства Вам необходимы:</legend>
                    {this.state.conditions.map(condition =>
                        <div key={condition.id}>                        
                        <input type="checkbox" value={condition.name} name="condition"
                        onChange={this.onChangeCondition}/>
                        <label>{condition.name}</label>
                        </div>
                    )}    
                    </fieldset>                    
                    <fieldset>
                    <input type="submit" value="Отправить"/>
                    </fieldset>
                </form>                  
                );
            }
        }
                
        ReactDOM.render(<ExampleComponent1 types={materialTypes} conditions={materialConditions}/>, document.getElementById("managedComponent1"));       
    </script>    
    <script src="script.js"></script>
    <script>setInterval(getQuotes(), 3600000);</script>
</body>
</html>